{% extends "_layouts/app.html.twig" %}

{% block title category.label %}

{% block script 'category-show' %}

{% block body %}
    <main>
        <section class="header-category-show">
            {% if category.image %}
                <img src="{{ category.image.url }}" alt="{{ category.image.alt }}">
            {% endif %}
            <h1>{{ category.label }}</h1>
        </section>

        <section class="category-show">
            <div class="container">
                {{ breadcrumb(breadcrumb) }}

                <div class="category-show-components row">
                    {% if productFieldsInJson is not same as('[]') %}
                        <div class="product-fields-component-wrapper col-lg-3">
                            <section id="product-fields-component" data-product-fields="{{ productFieldsInJson }}">
                            </section>
                        </div>
                    {% endif %}

                    {% if productsInJson is not same as('[]') %}
                        <div class="products-component-wrapper col-lg">
                            <section id="products-component" data-products="{{ productsInJson }}"
                                     data-current-page="{{ currentPage }}" data-per-page="{{ perPage }}"
                                     data-columns="{{ productFieldsInJson is not same as('[]') ? 4 : 3 }}">
                            </section>
                        </div>
                    {% else %}
                        <p>{% trans %}Sorry! No products found{% endtrans %}</p>
                    {% endif %}
                </div>
            </div>
        </section>
    </main>
{% endblock %}
